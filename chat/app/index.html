<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>GeoGPT</title>

    <!-- jQuery-->
    <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css"/>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.js"></script>

    <!-- Script, fontawesome and css-->
    <link rel="stylesheet" href="style.css">
    <script defer src="app.js"> </script>
    <script src="https://kit.fontawesome.com/5928831ae4.js" crossorigin="anonymous"></script>

    <!-- Searchable dropdown formatting form fields -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0/dist/js/select2.full.min.js"></script>

</head>

    <body>
        <!--

        <div id="header" class="header-image">
        </div>
        -->

        <!--
        -->
        <iframe
            id="iframe-map"
            scrolling="no"
            src="https://norgeskart.no/geoportal/#!?zoom=4.6366666666666685&lon=168670.22&lat=6789452.95&wms=https:%2F%2Fnve.geodataonline.no%2Farcgis%2Fservices%2FSkredKvikkleire2%2FMapServer%2FWMSServer&project=geonorge&layers=1002"
            class="map-image"
            allowfullscreen>
        </iframe>
        
        <!-- RAG assistant chat -->
        <div id="resizeChatDiv" class="dragable-chat">
            <div id="chatMessages">
                <div class="system-message">Hei! Jeg er GeoGPT, og skal hjelpe deg finne datasettene du leter etter på Geonorge.</div>

                <!-- Messages will be displayed here -->
            </div>
                
            <form id="chatForm" class="chat-container">
                <input type="text" id="chatInput" class="chat-input" placeholder="Spør GeoGPT...">
                <button type="submit" id="chatSubmitButton" class="message-button">
                    <i class="fa-solid fa-paper-plane"></i>
                </button>
            </form>

            <div class="chat-drag-handle">
                <i class="fas fa-grip-lines"></i>
            </div>
        </div>
        
        
        
        <!-- Vector database search -->
        <div id="resizeSearchDiv" class="dragable-search">
            <div class="search-drag-handle">
                <b class="search-title">Kartkatalogen</b>
            </div>

            <form id="searchForm" class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="Søk etter datasett...">
                <button type="submit" id="searchSubmitButton" class="search-button">
                    Søk 
                    <i class="fa-solid fa-magnifying-glass"></i>
                </button>
            </form>


            <!-- Menu with filter and download formats dropdowns -->
            <div class="filter-download-menus"> 

                <!-- Filter formats dropdown -->
                <div class="dropdown">
                    <div class="filter-container">
                        <input type="text" id="searchFilter" class="filter-input" placeholder="Filter" onkeyup="filterFunction()"> 
                        <i class="fa-solid fa-filter"></i>
                    </div>
                
                    <!-- Filter demonstration examples-->
                    <div id="filterDropdown" class="filter-dropdown-content">
                    <a href="#about" style="display:none;">About</a>
                    <a href="#base" style="display:none;">Base</a>
                    <a href="#blog" style="display:none;">Blog</a>
                    <a href="#contact" style="display:none;">Contact</a>
                    <a href="#custom" style="display:none;">Custom</a>
                    <a href="#support" style="display:none;">Support</a>
                    <a href="#tools" style="display:none;">Tools</a>
                    <!-- Filter demonstration examples-->
                    </div>
                </div>


                <!-- Download formats dropdown -->
                <div id="vdbResultsFormatsDropdown" class="vdb-formats-dropdown">
                    <button class="download-dropdown-trigger">
                        Nedlastning Formater
                        <i class="fa-solid fa-caret-down"></i>
                    </button>

                    <div class="download-dropdown-content">
                        <form id="vdbResultsDownloadFormats">
                            <div class="download-format-form-field">
                                <div>Geografisk område:</div>
                                <select id="searchDownloadArea" name="searchDownloadArea">
                                    <option value="Hele landet">Hele landet</option>
                                    <option value="Agder">Agder</option>
                                    <option value="Akershus">Akershus</option>
                                    <option value="Buskerud">Buskerud</option>
                                    <option value="tull">tull</option>
                                </select>
                            </div>
                        
                            <div class="download-format-form-field">
                                <div>Projeksjon:</div>
                                <select id="searchDownloadProjection" name="searchDownloadProjection">
                                    <option value="EUREF89 UTM sone 33, 2d">EUREF89 UTM sone 33, 2d</option>
                                    <option value="EUREF89 UTM sone 32, 2d">EUREF89 UTM sone 32, 2d</option>
                                    <option value="tull">tull</option>
                                </select>
                            </div>
                        
                            <div class="download-format-form-field">
                                <div>Format:</div>
                                <select id="searchDownloadFormat" name="searchDownloadFormat">
                                    <option value="GML">GML</option>
                                    <option value="PostGIS">PostGIS</option>
                                    <option value="FGDB">FGDB</option>
                                    <option value="SOSI">SOSI</option>
                                    <option value="tull">tull</option>
                                </select>
                            </div>
            
                            <div class="download-format-form-field">
                                <div>Brukergruppe:</div>
                                <select id="searchDownloadUserGroup" name="searchDownloadUserGroup">
                                    <option value="GeoGPT">GeoGPT</option>
                                </select>
                            </div>
            
                            <div class="download-format-form-field">
                                <div>Formål:</div>
                                <select id="searchDownloadUsagePurpose" name="searchDownloadUsagePurpose">
                                    <option value="Beredskap">Beredskap</option>
                                    <option value="Forskning">Forskning</option>
                                </select>
                            </div>
                        </form>
                    </div>
                </div>

            </div>


            <div id="results">
                <!-- results will be displayed here -->

            </div>

            <div class="search-drag-handle">
                <i class="fas fa-grip-lines"></i>
            </div>
        </div>
    </body>

</html>